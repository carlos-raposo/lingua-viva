#!/usr/bin/env bash

# MATRIZ NEOLÃ“GICA - DEBUGGING GUIDE
# ===================================

echo "ğŸ” DEBUGGING MATRIX NEOLÃ“GICA V2.6"
echo ""
echo "Se estÃ¡ a ver apenas palavras do fallback (Global, Brasil, etc),"
echo "execute os passos abaixo para identificar o problema:"
echo ""

echo "ğŸ“‹ PASSO 1: Abra DevTools (F12)"
echo "   â””â”€ Ctrl+Shift+I (Windows/Linux) ou Cmd+Option+I (Mac)"
echo ""

echo "ğŸ“‹ PASSO 2: Copie e execute este comando no Console:"
echo ""
echo "   window.testFetch()"
echo ""
echo "   Isso irÃ¡:"
echo "   âœ“ Tentar buscar dados do Google Trends"
echo "   âœ“ Mostrar qual proxy funcionou"
echo "   âœ“ Listar os termos recebidos"
echo ""

echo "ğŸ¯ RESULTADOS ESPERADOS:"
echo ""
echo "SUCESSO (VÃª termos com origem 'Google_Pulse_PT'):"
echo "   âœ… Google Trends: 25 termos carregados com sucesso!"
echo "   ğŸ“ Amostra: { termo: \"EleiÃ§Ã£o 2026\", origem: \"Google_Pulse_PT\", ... }"
echo ""
echo "FALHA (VÃª mensagens de erro):"
echo "   âŒ Todos os proxies falharam"
echo "   â†’ Significa que nenhum proxy CORS estÃ¡ disponÃ­vel"
echo "   â†’ Google Trends RSS pode estar temporariamente indisponÃ­vel"
echo ""

echo "ğŸ”§ PRÃ“XIMAS AÃ‡Ã•ES SE FALHAR:"
echo ""
echo "1ï¸âƒ£  Verificar Network Tab (F12 > Network):"
echo "    â””â”€ Recarregue a pÃ¡gina (Ctrl+R)"
echo "    â””â”€ Procure por requisiÃ§Ãµes para:"
echo "       â€¢ allorigins.win"
echo "       â€¢ cors-anywhere.herokuapp.com"
echo "       â€¢ thingproxy.freeboard.io"
echo ""
echo "    Se o status for 403/429 â†’ Proxy estÃ¡ bloqueado"
echo "    Se tiver erro CORS â†’ Problema de seguranÃ§a"
echo ""

echo "2ï¸âƒ£  Verifique o console pelo log completo:"
echo "    â””â”€ Procure por: 'ğŸ”„ Fetching Google Trends'"
echo "    â””â”€ Veja qual proxy foi tentado"
echo "    â””â”€ Procure por: 'âœ… Proxy X funcionou' ou 'âŒ Proxy X falhou'"
echo ""

echo "3ï¸âƒ£  Se TUDO falhar:"
echo "    â””â”€ Execute: window.reloadTrends()"
echo "    â””â”€ Tente novamente apÃ³s alguns segundos"
echo "    â””â”€ Pode ser que a rede esteja lenta/temporariamente indisponÃ­vel"
echo ""

echo "ğŸ“Š VERIFICAR ESTADO ATUAL:"
echo ""
echo "   window.wordsDB          // Array com dados carregados"
echo "   window.isDataLoaded     // true se dados foram carregados"
echo "   window.mockData         // Array com fallback (10 termos)"
echo ""

echo "ğŸ†˜ DIAGNÃ“STICO RÃPIDO:"
echo ""
echo "1. Recarregue a pÃ¡gina (Ctrl+F5)"
echo "2. Clique SINTONIZAR_MATRIZ"
echo "3. Aguarde 3-5 segundos"
echo "4. Abra F12 e procure por:"
echo "   - 'âœ… Google Trends' = SUCESSO (palavras reais)"
echo "   - 'âš ï¸ Todos os provedores' = FALLBACK (palavras stock)"
echo "5. Execute window.testFetch() para forÃ§ar novo teste"
echo ""

echo "âœ… FIM DO GUIA"
